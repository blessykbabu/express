<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDo List</title>
</head>
<body>
    <!-- <form onsubmit="submitHandler(event)"> -->
        <h1>DATA FORM</h1>
        <form action="http://localhost:3000/api" method="post">
            <input type ="text" name="id" id="id" placeholder="id"><br>
        <input name="name" type="text" id="name" placeholder="user name"><br>
        <input name="fname" type="text" id="fname" placeholder="fast name"><br>
        <input name="lname" type="text" id="lname" placeholder="last name"><br>
        <input name="ph" type="text" id="ph" placeholder="phone number"><br>
        <input name="email" type="text" id="email" placeholder="email"><br>
        <input name="password" type="text" id="password" placeholder="password"><br>
        <button type="submit">Submit</button>
    </form>
    <ol id="list"></ol>

    <script>
        // let list = document.getElementById("list");
        // let todoInput = document.getElementById("todo");

        // function print() {
        //     fetch("/api")
        //         .then((res) => res.json())
        //         .then((data) => {
        //             list.innerHTML = "";
        //             data.forEach((element) => {
        //                 let li = `<li>${element}<button onclick="del('${element}')">delete</button>
        //                     <button onclick="edit('${element}')">edit</button>
        //                     </li>`;
        //                 list.innerHTML += li;
        //             });
        //         });
        // }
        // print();

        // function submitHandler(event) {
        //     event.preventDefault();
        //     let todo = todoInput.value;
        //     fetch("/api", {
        //         method: "POST",
        //         headers: {
        //             "Content-Type": "application/json"
        //         },
        //         body: JSON.stringify({ todo })
        //     })
        //         .then((res) => res.json())
        //         .then((data) => {
        //             console.log(data);
        //             print();
        //             todoInput.value = "";
        //         });
        // }

        // function del(todo) {
        //     fetch(`/api?todo=${todo}`, {
        //         method: "DELETE"
        //     })
        //         .then((res) => res.json())
        //         .then((data) => {
        //             console.log(data);
        //             print();
        //         });
        // }

        // function edit(oldTodo) {
        //     let newTodo = prompt("Enter new todo");
        //     if (newTodo) {
        //         fetch(`/api?oldTodo=${oldTodo}&newTodo=${newTodo}`, {
        //             method: "PUT"
        //         })
        //             .then((res) => res.json())
        //             .then((data) => {
        //                 console.log(data);
        //                 print();
        //             });
        //     }}



  let list=document.getElementById("list")
  fetch(`http://localhost:3000/api/get-data`)
  .then(res =>res.json())
  .then(data => {
    data.forEach(item =>{
        let li=`<li>${item.name}<a href="/user.html?id=${item.id}">more</a><button><a href="/edit.html">Update</></button><button><a href="/login.html">LOGIN</></button></li>`
            list.innerHTML +=li; 
    })
  })

        
    </script>
</body>
</html>